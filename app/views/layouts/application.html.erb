<!DOCTYPE html>
<html>
  <head>
    <title>CaptainPlaylist</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <div id="navbar">

    <%= link_to 'Captain Playlist', playlists_path, {class: 'site-title'} %>
      <p class="notice"><%= notice %></p>
      <p class="alert"><%= alert %></p>

      <% unless current_user === nil %>
        <%= link_to 'My Playlists', user_path(current_user.id), {class: 'profile-link'} %>
      <% end %>

      <% if session[:spotify_user] === nil || session[:spotify_user] === {} %>
        <%= link_to 'Sign in with Spotify', '/auth/spotify', {class: 'sign_in_button'} %>
      <% else %>
        <div class="spotify-signed-in">
          <p class="spotify-id">Signed in as Spotify User: </p>
          <p class="spotify-id"><%= session.spotify_user.id %></p>
        </div>
      <% end %>

      <div class="network label">Networks: (None yet!)</div>
      <div class="network add">+</div>
 

      <% if current_user %>
          <%= link_to "Logout", destroy_user_session_path, {method: :delete, class: 'logout-btn'} %>
        <% else %>
          <%= link_to "Register", new_user_registration_path %>
          <%= link_to "Login", new_user_session_path %>
      <% end %>
    </div>
  	<div class="main">
	    <%= yield %>
    </div>
  </body>
</html>
